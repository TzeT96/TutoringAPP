"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/courses/[school]/[course]";
exports.ids = ["pages/api/courses/[school]/[course]"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcourses%2F%5Bschool%5D%2F%5Bcourse%5D&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Fcourses%2F%5Bschool%5D%2F%5Bcourse%5D.ts&middlewareConfigBase64=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcourses%2F%5Bschool%5D%2F%5Bcourse%5D&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Fcourses%2F%5Bschool%5D%2F%5Bcourse%5D.ts&middlewareConfigBase64=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _src_pages_api_courses_school_course_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/pages/api/courses/[school]/[course].ts */ \"(api)/./src/pages/api/courses/[school]/[course].ts\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_courses_school_course_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_courses_school_course_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/courses/[school]/[course]\",\n        pathname: \"/api/courses/[school]/[course]\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _src_pages_api_courses_school_course_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmNvdXJzZXMlMkYlNUJzY2hvb2wlNUQlMkYlNUJjb3Vyc2UlNUQmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZzcmMlMkZwYWdlcyUyRmFwaSUyRmNvdXJzZXMlMkYlNUJzY2hvb2wlNUQlMkYlNUJjb3Vyc2UlNUQudHMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ0w7QUFDMUQ7QUFDeUU7QUFDekU7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLG9FQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQyxvRUFBUTtBQUNwQztBQUNPLHdCQUF3QixnSEFBbUI7QUFDbEQ7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90dXRvcmluZy13ZWItdWkvPzBlYTAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3NyYy9wYWdlcy9hcGkvY291cnNlcy9bc2Nob29sXS9bY291cnNlXS50c1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2NvdXJzZXMvW3NjaG9vbF0vW2NvdXJzZV1cIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9jb3Vyc2VzL1tzY2hvb2xdL1tjb3Vyc2VdXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogXCJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwiXCJcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcourses%2F%5Bschool%5D%2F%5Bcourse%5D&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Fcourses%2F%5Bschool%5D%2F%5Bcourse%5D.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./src/lib/prisma.ts":
/*!***************************!*\
  !*** ./src/lib/prisma.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   prisma: () => (/* binding */ prisma)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\n// PrismaClient is attached to the `global` object in development to prevent\n// exhausting your database connection limit.\n// Learn more: https://pris.ly/d/help/next-js-best-practices\nconst globalForPrisma = globalThis;\nconst prisma = globalForPrisma.prisma || new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\nif (true) globalForPrisma.prisma = prisma;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (prisma);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvbGliL3ByaXNtYS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQThDO0FBRTlDLDRFQUE0RTtBQUM1RSw2Q0FBNkM7QUFDN0MsNERBQTREO0FBRTVELE1BQU1DLGtCQUFrQkM7QUFFakIsTUFBTUMsU0FDWEYsZ0JBQWdCRSxNQUFNLElBQ3RCLElBQUlILHdEQUFZQSxHQUFHO0FBRXJCLElBQUlJLElBQXlCLEVBQWNILGdCQUFnQkUsTUFBTSxHQUFHQTtBQUVwRSxpRUFBZUEsTUFBTUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3R1dG9yaW5nLXdlYi11aS8uL3NyYy9saWIvcHJpc21hLnRzPzAxZDciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUHJpc21hQ2xpZW50IH0gZnJvbSAnQHByaXNtYS9jbGllbnQnO1xuXG4vLyBQcmlzbWFDbGllbnQgaXMgYXR0YWNoZWQgdG8gdGhlIGBnbG9iYWxgIG9iamVjdCBpbiBkZXZlbG9wbWVudCB0byBwcmV2ZW50XG4vLyBleGhhdXN0aW5nIHlvdXIgZGF0YWJhc2UgY29ubmVjdGlvbiBsaW1pdC5cbi8vIExlYXJuIG1vcmU6IGh0dHBzOi8vcHJpcy5seS9kL2hlbHAvbmV4dC1qcy1iZXN0LXByYWN0aWNlc1xuXG5jb25zdCBnbG9iYWxGb3JQcmlzbWEgPSBnbG9iYWxUaGlzIGFzIHVua25vd24gYXMgeyBwcmlzbWE6IFByaXNtYUNsaWVudCB9O1xuXG5leHBvcnQgY29uc3QgcHJpc21hID1cbiAgZ2xvYmFsRm9yUHJpc21hLnByaXNtYSB8fFxuICBuZXcgUHJpc21hQ2xpZW50KCk7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSBnbG9iYWxGb3JQcmlzbWEucHJpc21hID0gcHJpc21hO1xuXG5leHBvcnQgZGVmYXVsdCBwcmlzbWE7Il0sIm5hbWVzIjpbIlByaXNtYUNsaWVudCIsImdsb2JhbEZvclByaXNtYSIsImdsb2JhbFRoaXMiLCJwcmlzbWEiLCJwcm9jZXNzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/lib/prisma.ts\n");

/***/ }),

/***/ "(api)/./src/pages/api/courses/[school]/[course].ts":
/*!****************************************************!*\
  !*** ./src/pages/api/courses/[school]/[course].ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_prisma__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/prisma */ \"(api)/./src/lib/prisma.ts\");\n\nasync function handler(req, res) {\n    if (req.method !== \"GET\") {\n        return res.status(405).json({\n            error: \"Method not allowed\"\n        });\n    }\n    const { school, course } = req.query;\n    if (!school || !course || typeof school !== \"string\" || typeof course !== \"string\") {\n        return res.status(400).json({\n            error: \"School and course parameters are required\"\n        });\n    }\n    try {\n        // Normalize the course code by removing spaces and converting to uppercase\n        const normalizedCourseCode = course.replace(/\\s+/g, \"\").toUpperCase();\n        const normalizedSchool = school.toUpperCase();\n        // Find the course with case-insensitive matching using raw SQL\n        const courseData = await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].$queryRaw`\n      SELECT a.*, \n        COALESCE(\n          JSON_ARRAYAGG(\n            JSON_OBJECT(\n              'id', s.id,\n              'submission_detection_result', s.submission_detection_result,\n              'submission_time', s.submission_time\n            )\n          ),\n          JSON_ARRAY()\n        ) as submissions\n      FROM assignment_general_info_table a\n      LEFT JOIN submission_detail_table s ON a.id = s.assignment_id\n      WHERE UPPER(REPLACE(a.course_code, ' ', '')) = ${normalizedCourseCode}\n      AND UPPER(a.school) = ${normalizedSchool}\n      GROUP BY a.id, a.assignment_name, a.assignment_type, a.due_date, a.course_code, a.school, a.assignment_url\n    `;\n        if (!courseData || courseData.length === 0) {\n            return res.status(404).json({\n                error: \"Course not found\"\n            });\n        }\n        // Transform the data for the frontend\n        const transformedCourse = {\n            id: courseData[0].course_code,\n            name: courseData[0].assignment_name,\n            code: courseData[0].course_code,\n            school: normalizedSchool,\n            semester: \"Current\",\n            studentCount: 0,\n            highRiskCount: 0,\n            averageGrade: 0,\n            assignments: courseData.map((assignment)=>{\n                let submissions = [];\n                try {\n                    submissions = typeof assignment.submissions === \"string\" ? JSON.parse(assignment.submissions) : assignment.submissions;\n                } catch (error) {\n                    console.error(\"Error parsing submissions:\", error);\n                    submissions = [];\n                }\n                const studentResults = submissions.map((sub)=>{\n                    let detectionResult;\n                    try {\n                        detectionResult = typeof sub.submission_detection_result === \"string\" ? JSON.parse(sub.submission_detection_result) : sub.submission_detection_result;\n                    } catch (error) {\n                        console.error(\"Error parsing submission_detection_result:\", error);\n                        detectionResult = {\n                            ai_probability: 0,\n                            student_email: \"unknown@example.com\",\n                            student_name: \"Unknown Student\",\n                            requires_verification: 0,\n                            verification_questions: [],\n                            canvas_url: \"\"\n                        };\n                    }\n                    // Determine plagiarism status based on AI probability\n                    let plagiarismStatus = \"cleared\";\n                    if (detectionResult.ai_probability >= 0.8) {\n                        plagiarismStatus = \"confirmed\";\n                    } else if (detectionResult.ai_probability >= 0.6) {\n                        plagiarismStatus = \"suspected\";\n                    }\n                    return {\n                        studentId: detectionResult.student_email,\n                        studentName: detectionResult.student_name,\n                        studentEmail: detectionResult.student_email,\n                        score: 0,\n                        submissionDate: sub.submission_time,\n                        plagiarismStatus,\n                        similarityScore: Math.round(detectionResult.ai_probability * 100),\n                        requiresVerification: detectionResult.requires_verification === 1,\n                        verificationQuestions: detectionResult.verification_questions,\n                        canvasUrl: detectionResult.canvas_url\n                    };\n                });\n                return {\n                    id: assignment.id.toString(),\n                    title: assignment.assignment_name,\n                    type: assignment.assignment_type,\n                    dueDate: assignment.due_date,\n                    totalPoints: 100,\n                    studentResults\n                };\n            }),\n            students: [] // We'll extract unique students from submissions\n        };\n        // Calculate statistics\n        const uniqueStudents = new Set();\n        let highRiskCount = 0;\n        transformedCourse.assignments.forEach((assignment)=>{\n            assignment.studentResults.forEach((result)=>{\n                uniqueStudents.add(result.studentEmail);\n                if (result.plagiarismStatus === \"suspected\" || result.plagiarismStatus === \"confirmed\") {\n                    highRiskCount++;\n                }\n            });\n        });\n        transformedCourse.studentCount = uniqueStudents.size;\n        transformedCourse.highRiskCount = highRiskCount;\n        transformedCourse.students = Array.from(uniqueStudents).map((email)=>({\n                id: email,\n                name: transformedCourse.assignments.flatMap((a)=>a.studentResults).find((r)=>r.studentEmail === email)?.studentName || \"Unknown Student\",\n                email\n            }));\n        return res.status(200).json(transformedCourse);\n    } catch (error) {\n        console.error(\"Error fetching course data:\", error);\n        return res.status(500).json({\n            error: \"Failed to fetch course data\"\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL2NvdXJzZXMvW3NjaG9vbF0vW2NvdXJzZV0udHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFDa0M7QUFvRG5CLGVBQWVDLFFBQzVCQyxHQUFtQixFQUNuQkMsR0FBb0I7SUFFcEIsSUFBSUQsSUFBSUUsTUFBTSxLQUFLLE9BQU87UUFDeEIsT0FBT0QsSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUFFQyxPQUFPO1FBQXFCO0lBQzVEO0lBRUEsTUFBTSxFQUFFQyxNQUFNLEVBQUVDLE1BQU0sRUFBRSxHQUFHUCxJQUFJUSxLQUFLO0lBRXBDLElBQUksQ0FBQ0YsVUFBVSxDQUFDQyxVQUFVLE9BQU9ELFdBQVcsWUFBWSxPQUFPQyxXQUFXLFVBQVU7UUFDbEYsT0FBT04sSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUFFQyxPQUFPO1FBQTRDO0lBQ25GO0lBRUEsSUFBSTtRQUNGLDJFQUEyRTtRQUMzRSxNQUFNSSx1QkFBdUJGLE9BQU9HLE9BQU8sQ0FBQyxRQUFRLElBQUlDLFdBQVc7UUFDbkUsTUFBTUMsbUJBQW1CTixPQUFPSyxXQUFXO1FBRTNDLCtEQUErRDtRQUMvRCxNQUFNRSxhQUFhLE1BQU1mLDZEQUFnQixDQUFlOzs7Ozs7Ozs7Ozs7OztxREFjUCxFQUFFVyxxQkFBcUI7NEJBQ2hELEVBQUVHLGlCQUFpQjs7SUFFM0MsQ0FBQztRQUVELElBQUksQ0FBQ0MsY0FBY0EsV0FBV0UsTUFBTSxLQUFLLEdBQUc7WUFDMUMsT0FBT2QsSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztnQkFBRUMsT0FBTztZQUFtQjtRQUMxRDtRQUVBLHNDQUFzQztRQUN0QyxNQUFNVyxvQkFBdUM7WUFDM0NDLElBQUlKLFVBQVUsQ0FBQyxFQUFFLENBQUNLLFdBQVc7WUFDN0JDLE1BQU1OLFVBQVUsQ0FBQyxFQUFFLENBQUNPLGVBQWU7WUFDbkNDLE1BQU1SLFVBQVUsQ0FBQyxFQUFFLENBQUNLLFdBQVc7WUFD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RTlCLFlBQVksS0FBSzBCLFFBQVEzQixlQUFlO2dCQUN2RDJCO1lBQ0Y7UUFFQSxPQUFPdkUsSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQ1k7SUFDOUIsRUFBRSxPQUFPWCxPQUFPO1FBQ2QyQixRQUFRM0IsS0FBSyxDQUFDLCtCQUErQkE7UUFDN0MsT0FBT0osSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUFFQyxPQUFPO1FBQThCO0lBQ3JFO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90dXRvcmluZy13ZWItdWkvLi9zcmMvcGFnZXMvYXBpL2NvdXJzZXMvW3NjaG9vbF0vW2NvdXJzZV0udHM/ZWY4ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0QXBpUmVxdWVzdCwgTmV4dEFwaVJlc3BvbnNlIH0gZnJvbSAnbmV4dCc7XG5pbXBvcnQgcHJpc21hIGZyb20gJ0AvbGliL3ByaXNtYSc7XG5cbmludGVyZmFjZSBDb3Vyc2VEYXRhIHtcbiAgaWQ6IG51bWJlcjtcbiAgYXNzaWdubWVudF9uYW1lOiBzdHJpbmc7XG4gIGFzc2lnbm1lbnRfdHlwZTogc3RyaW5nO1xuICBkdWVfZGF0ZTogRGF0ZTtcbiAgY291cnNlX2NvZGU6IHN0cmluZztcbiAgc2Nob29sOiBzdHJpbmc7XG4gIGFzc2lnbm1lbnRfdXJsOiBzdHJpbmc7XG4gIHN1Ym1pc3Npb25zOiB7XG4gICAgaWQ6IG51bWJlcjtcbiAgICBzdWJtaXNzaW9uX2RldGVjdGlvbl9yZXN1bHQ6IGFueTtcbiAgICBzdWJtaXNzaW9uX3RpbWU6IERhdGU7XG4gIH1bXTtcbn1cblxuaW50ZXJmYWNlIFRyYW5zZm9ybWVkQ291cnNlIHtcbiAgaWQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICBjb2RlOiBzdHJpbmc7XG4gIHNjaG9vbDogc3RyaW5nO1xuICBzZW1lc3Rlcjogc3RyaW5nO1xuICBzdHVkZW50Q291bnQ6IG51bWJlcjtcbiAgaGlnaFJpc2tDb3VudDogbnVtYmVyO1xuICBhdmVyYWdlR3JhZGU6IG51bWJlcjtcbiAgYXNzaWdubWVudHM6IHtcbiAgICBpZDogc3RyaW5nO1xuICAgIHRpdGxlOiBzdHJpbmc7XG4gICAgdHlwZTogc3RyaW5nO1xuICAgIGR1ZURhdGU6IERhdGU7XG4gICAgdG90YWxQb2ludHM6IG51bWJlcjtcbiAgICBzdHVkZW50UmVzdWx0czoge1xuICAgICAgc3R1ZGVudElkOiBzdHJpbmc7XG4gICAgICBzdHVkZW50TmFtZTogc3RyaW5nO1xuICAgICAgc3R1ZGVudEVtYWlsOiBzdHJpbmc7XG4gICAgICBzY29yZTogbnVtYmVyO1xuICAgICAgc3VibWlzc2lvbkRhdGU6IERhdGU7XG4gICAgICBwbGFnaWFyaXNtU3RhdHVzOiBzdHJpbmc7XG4gICAgICBzaW1pbGFyaXR5U2NvcmU6IG51bWJlcjtcbiAgICAgIHJlcXVpcmVzVmVyaWZpY2F0aW9uOiBib29sZWFuO1xuICAgICAgdmVyaWZpY2F0aW9uUXVlc3Rpb25zPzogc3RyaW5nW107XG4gICAgICBjYW52YXNVcmw/OiBzdHJpbmc7XG4gICAgfVtdO1xuICB9W107XG4gIHN0dWRlbnRzOiB7XG4gICAgaWQ6IHN0cmluZztcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgZW1haWw6IHN0cmluZztcbiAgfVtdO1xufVxuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKFxuICByZXE6IE5leHRBcGlSZXF1ZXN0LFxuICByZXM6IE5leHRBcGlSZXNwb25zZVxuKSB7XG4gIGlmIChyZXEubWV0aG9kICE9PSAnR0VUJykge1xuICAgIHJldHVybiByZXMuc3RhdHVzKDQwNSkuanNvbih7IGVycm9yOiAnTWV0aG9kIG5vdCBhbGxvd2VkJyB9KTtcbiAgfVxuXG4gIGNvbnN0IHsgc2Nob29sLCBjb3Vyc2UgfSA9IHJlcS5xdWVyeTtcblxuICBpZiAoIXNjaG9vbCB8fCAhY291cnNlIHx8IHR5cGVvZiBzY2hvb2wgIT09ICdzdHJpbmcnIHx8IHR5cGVvZiBjb3Vyc2UgIT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICdTY2hvb2wgYW5kIGNvdXJzZSBwYXJhbWV0ZXJzIGFyZSByZXF1aXJlZCcgfSk7XG4gIH1cblxuICB0cnkge1xuICAgIC8vIE5vcm1hbGl6ZSB0aGUgY291cnNlIGNvZGUgYnkgcmVtb3Zpbmcgc3BhY2VzIGFuZCBjb252ZXJ0aW5nIHRvIHVwcGVyY2FzZVxuICAgIGNvbnN0IG5vcm1hbGl6ZWRDb3Vyc2VDb2RlID0gY291cnNlLnJlcGxhY2UoL1xccysvZywgJycpLnRvVXBwZXJDYXNlKCk7XG4gICAgY29uc3Qgbm9ybWFsaXplZFNjaG9vbCA9IHNjaG9vbC50b1VwcGVyQ2FzZSgpO1xuICAgIFxuICAgIC8vIEZpbmQgdGhlIGNvdXJzZSB3aXRoIGNhc2UtaW5zZW5zaXRpdmUgbWF0Y2hpbmcgdXNpbmcgcmF3IFNRTFxuICAgIGNvbnN0IGNvdXJzZURhdGEgPSBhd2FpdCBwcmlzbWEuJHF1ZXJ5UmF3PENvdXJzZURhdGFbXT5gXG4gICAgICBTRUxFQ1QgYS4qLCBcbiAgICAgICAgQ09BTEVTQ0UoXG4gICAgICAgICAgSlNPTl9BUlJBWUFHRyhcbiAgICAgICAgICAgIEpTT05fT0JKRUNUKFxuICAgICAgICAgICAgICAnaWQnLCBzLmlkLFxuICAgICAgICAgICAgICAnc3VibWlzc2lvbl9kZXRlY3Rpb25fcmVzdWx0Jywgcy5zdWJtaXNzaW9uX2RldGVjdGlvbl9yZXN1bHQsXG4gICAgICAgICAgICAgICdzdWJtaXNzaW9uX3RpbWUnLCBzLnN1Ym1pc3Npb25fdGltZVxuICAgICAgICAgICAgKVxuICAgICAgICAgICksXG4gICAgICAgICAgSlNPTl9BUlJBWSgpXG4gICAgICAgICkgYXMgc3VibWlzc2lvbnNcbiAgICAgIEZST00gYXNzaWdubWVudF9nZW5lcmFsX2luZm9fdGFibGUgYVxuICAgICAgTEVGVCBKT0lOIHN1Ym1pc3Npb25fZGV0YWlsX3RhYmxlIHMgT04gYS5pZCA9IHMuYXNzaWdubWVudF9pZFxuICAgICAgV0hFUkUgVVBQRVIoUkVQTEFDRShhLmNvdXJzZV9jb2RlLCAnICcsICcnKSkgPSAke25vcm1hbGl6ZWRDb3Vyc2VDb2RlfVxuICAgICAgQU5EIFVQUEVSKGEuc2Nob29sKSA9ICR7bm9ybWFsaXplZFNjaG9vbH1cbiAgICAgIEdST1VQIEJZIGEuaWQsIGEuYXNzaWdubWVudF9uYW1lLCBhLmFzc2lnbm1lbnRfdHlwZSwgYS5kdWVfZGF0ZSwgYS5jb3Vyc2VfY29kZSwgYS5zY2hvb2wsIGEuYXNzaWdubWVudF91cmxcbiAgICBgO1xuXG4gICAgaWYgKCFjb3Vyc2VEYXRhIHx8IGNvdXJzZURhdGEubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBlcnJvcjogJ0NvdXJzZSBub3QgZm91bmQnIH0pO1xuICAgIH1cblxuICAgIC8vIFRyYW5zZm9ybSB0aGUgZGF0YSBmb3IgdGhlIGZyb250ZW5kXG4gICAgY29uc3QgdHJhbnNmb3JtZWRDb3Vyc2U6IFRyYW5zZm9ybWVkQ291cnNlID0ge1xuICAgICAgaWQ6IGNvdXJzZURhdGFbMF0uY291cnNlX2NvZGUsXG4gICAgICBuYW1lOiBjb3Vyc2VEYXRhWzBdLmFzc2lnbm1lbnRfbmFtZSxcbiAgICAgIGNvZGU6IGNvdXJzZURhdGFbMF0uY291cnNlX2NvZGUsXG4gICAgICBzY2hvb2w6IG5vcm1hbGl6ZWRTY2hvb2wsXG4gICAgICBzZW1lc3RlcjogJ0N1cnJlbnQnLCAvLyBXZSBkb24ndCBoYXZlIHNlbWVzdGVyIGluZm8gaW4gdGhlIGRhdGFiYXNlXG4gICAgICBzdHVkZW50Q291bnQ6IDAsIC8vIFdlJ2xsIGNhbGN1bGF0ZSB0aGlzIGZyb20gc3VibWlzc2lvbnNcbiAgICAgIGhpZ2hSaXNrQ291bnQ6IDAsIC8vIFdlJ2xsIGNhbGN1bGF0ZSB0aGlzIGZyb20gc3VibWlzc2lvbnNcbiAgICAgIGF2ZXJhZ2VHcmFkZTogMCwgLy8gV2UgZG9uJ3QgaGF2ZSBncmFkZSBpbmZvIGluIHRoZSBkYXRhYmFzZVxuICAgICAgYXNzaWdubWVudHM6IGNvdXJzZURhdGEubWFwKGFzc2lnbm1lbnQgPT4ge1xuICAgICAgICBsZXQgc3VibWlzc2lvbnMgPSBbXTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBzdWJtaXNzaW9ucyA9IHR5cGVvZiBhc3NpZ25tZW50LnN1Ym1pc3Npb25zID09PSAnc3RyaW5nJyBcbiAgICAgICAgICAgID8gSlNPTi5wYXJzZShhc3NpZ25tZW50LnN1Ym1pc3Npb25zKSBcbiAgICAgICAgICAgIDogYXNzaWdubWVudC5zdWJtaXNzaW9ucztcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBwYXJzaW5nIHN1Ym1pc3Npb25zOicsIGVycm9yKTtcbiAgICAgICAgICBzdWJtaXNzaW9ucyA9IFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc3R1ZGVudFJlc3VsdHMgPSBzdWJtaXNzaW9ucy5tYXAoKHN1YjogYW55KSA9PiB7XG4gICAgICAgICAgbGV0IGRldGVjdGlvblJlc3VsdDtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgZGV0ZWN0aW9uUmVzdWx0ID0gdHlwZW9mIHN1Yi5zdWJtaXNzaW9uX2RldGVjdGlvbl9yZXN1bHQgPT09ICdzdHJpbmcnIFxuICAgICAgICAgICAgICA/IEpTT04ucGFyc2Uoc3ViLnN1Ym1pc3Npb25fZGV0ZWN0aW9uX3Jlc3VsdCkgXG4gICAgICAgICAgICAgIDogc3ViLnN1Ym1pc3Npb25fZGV0ZWN0aW9uX3Jlc3VsdDtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcGFyc2luZyBzdWJtaXNzaW9uX2RldGVjdGlvbl9yZXN1bHQ6JywgZXJyb3IpO1xuICAgICAgICAgICAgZGV0ZWN0aW9uUmVzdWx0ID0ge1xuICAgICAgICAgICAgICBhaV9wcm9iYWJpbGl0eTogMCxcbiAgICAgICAgICAgICAgc3R1ZGVudF9lbWFpbDogJ3Vua25vd25AZXhhbXBsZS5jb20nLFxuICAgICAgICAgICAgICBzdHVkZW50X25hbWU6ICdVbmtub3duIFN0dWRlbnQnLFxuICAgICAgICAgICAgICByZXF1aXJlc192ZXJpZmljYXRpb246IDAsXG4gICAgICAgICAgICAgIHZlcmlmaWNhdGlvbl9xdWVzdGlvbnM6IFtdLFxuICAgICAgICAgICAgICBjYW52YXNfdXJsOiAnJ1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBEZXRlcm1pbmUgcGxhZ2lhcmlzbSBzdGF0dXMgYmFzZWQgb24gQUkgcHJvYmFiaWxpdHlcbiAgICAgICAgICBsZXQgcGxhZ2lhcmlzbVN0YXR1cyA9ICdjbGVhcmVkJztcbiAgICAgICAgICBpZiAoZGV0ZWN0aW9uUmVzdWx0LmFpX3Byb2JhYmlsaXR5ID49IDAuOCkge1xuICAgICAgICAgICAgcGxhZ2lhcmlzbVN0YXR1cyA9ICdjb25maXJtZWQnO1xuICAgICAgICAgIH0gZWxzZSBpZiAoZGV0ZWN0aW9uUmVzdWx0LmFpX3Byb2JhYmlsaXR5ID49IDAuNikge1xuICAgICAgICAgICAgcGxhZ2lhcmlzbVN0YXR1cyA9ICdzdXNwZWN0ZWQnO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdHVkZW50SWQ6IGRldGVjdGlvblJlc3VsdC5zdHVkZW50X2VtYWlsLFxuICAgICAgICAgICAgc3R1ZGVudE5hbWU6IGRldGVjdGlvblJlc3VsdC5zdHVkZW50X25hbWUsXG4gICAgICAgICAgICBzdHVkZW50RW1haWw6IGRldGVjdGlvblJlc3VsdC5zdHVkZW50X2VtYWlsLFxuICAgICAgICAgICAgc2NvcmU6IDAsIC8vIFdlIGRvbid0IGhhdmUgc2NvcmUgaW5mb3JtYXRpb25cbiAgICAgICAgICAgIHN1Ym1pc3Npb25EYXRlOiBzdWIuc3VibWlzc2lvbl90aW1lLFxuICAgICAgICAgICAgcGxhZ2lhcmlzbVN0YXR1cyxcbiAgICAgICAgICAgIHNpbWlsYXJpdHlTY29yZTogTWF0aC5yb3VuZChkZXRlY3Rpb25SZXN1bHQuYWlfcHJvYmFiaWxpdHkgKiAxMDApLFxuICAgICAgICAgICAgcmVxdWlyZXNWZXJpZmljYXRpb246IGRldGVjdGlvblJlc3VsdC5yZXF1aXJlc192ZXJpZmljYXRpb24gPT09IDEsXG4gICAgICAgICAgICB2ZXJpZmljYXRpb25RdWVzdGlvbnM6IGRldGVjdGlvblJlc3VsdC52ZXJpZmljYXRpb25fcXVlc3Rpb25zLFxuICAgICAgICAgICAgY2FudmFzVXJsOiBkZXRlY3Rpb25SZXN1bHQuY2FudmFzX3VybFxuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgaWQ6IGFzc2lnbm1lbnQuaWQudG9TdHJpbmcoKSxcbiAgICAgICAgICB0aXRsZTogYXNzaWdubWVudC5hc3NpZ25tZW50X25hbWUsXG4gICAgICAgICAgdHlwZTogYXNzaWdubWVudC5hc3NpZ25tZW50X3R5cGUsXG4gICAgICAgICAgZHVlRGF0ZTogYXNzaWdubWVudC5kdWVfZGF0ZSxcbiAgICAgICAgICB0b3RhbFBvaW50czogMTAwLCAvLyBEZWZhdWx0IHZhbHVlIHNpbmNlIHdlIGRvbid0IGhhdmUgdGhpcyBpbiB0aGUgZGF0YWJhc2VcbiAgICAgICAgICBzdHVkZW50UmVzdWx0c1xuICAgICAgICB9O1xuICAgICAgfSksXG4gICAgICBzdHVkZW50czogW10gLy8gV2UnbGwgZXh0cmFjdCB1bmlxdWUgc3R1ZGVudHMgZnJvbSBzdWJtaXNzaW9uc1xuICAgIH07XG5cbiAgICAvLyBDYWxjdWxhdGUgc3RhdGlzdGljc1xuICAgIGNvbnN0IHVuaXF1ZVN0dWRlbnRzID0gbmV3IFNldDxzdHJpbmc+KCk7XG4gICAgbGV0IGhpZ2hSaXNrQ291bnQgPSAwO1xuXG4gICAgdHJhbnNmb3JtZWRDb3Vyc2UuYXNzaWdubWVudHMuZm9yRWFjaChhc3NpZ25tZW50ID0+IHtcbiAgICAgIGFzc2lnbm1lbnQuc3R1ZGVudFJlc3VsdHMuZm9yRWFjaChyZXN1bHQgPT4ge1xuICAgICAgICB1bmlxdWVTdHVkZW50cy5hZGQocmVzdWx0LnN0dWRlbnRFbWFpbCk7XG4gICAgICAgIGlmIChyZXN1bHQucGxhZ2lhcmlzbVN0YXR1cyA9PT0gJ3N1c3BlY3RlZCcgfHwgcmVzdWx0LnBsYWdpYXJpc21TdGF0dXMgPT09ICdjb25maXJtZWQnKSB7XG4gICAgICAgICAgaGlnaFJpc2tDb3VudCsrO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHRyYW5zZm9ybWVkQ291cnNlLnN0dWRlbnRDb3VudCA9IHVuaXF1ZVN0dWRlbnRzLnNpemU7XG4gICAgdHJhbnNmb3JtZWRDb3Vyc2UuaGlnaFJpc2tDb3VudCA9IGhpZ2hSaXNrQ291bnQ7XG4gICAgdHJhbnNmb3JtZWRDb3Vyc2Uuc3R1ZGVudHMgPSBBcnJheS5mcm9tKHVuaXF1ZVN0dWRlbnRzKS5tYXAoZW1haWwgPT4gKHtcbiAgICAgIGlkOiBlbWFpbCxcbiAgICAgIG5hbWU6IHRyYW5zZm9ybWVkQ291cnNlLmFzc2lnbm1lbnRzXG4gICAgICAgIC5mbGF0TWFwKGEgPT4gYS5zdHVkZW50UmVzdWx0cylcbiAgICAgICAgLmZpbmQociA9PiByLnN0dWRlbnRFbWFpbCA9PT0gZW1haWwpPy5zdHVkZW50TmFtZSB8fCAnVW5rbm93biBTdHVkZW50JyxcbiAgICAgIGVtYWlsXG4gICAgfSkpO1xuXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHRyYW5zZm9ybWVkQ291cnNlKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBjb3Vyc2UgZGF0YTonLCBlcnJvcik7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdGYWlsZWQgdG8gZmV0Y2ggY291cnNlIGRhdGEnIH0pO1xuICB9XG59ICJdLCJuYW1lcyI6WyJwcmlzbWEiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwibWV0aG9kIiwic3RhdHVzIiwianNvbiIsImVycm9yIiwic2Nob29sIiwiY291cnNlIiwicXVlcnkiLCJub3JtYWxpemVkQ291cnNlQ29kZSIsInJlcGxhY2UiLCJ0b1VwcGVyQ2FzZSIsIm5vcm1hbGl6ZWRTY2hvb2wiLCJjb3Vyc2VEYXRhIiwiJHF1ZXJ5UmF3IiwibGVuZ3RoIiwidHJhbnNmb3JtZWRDb3Vyc2UiLCJpZCIsImNvdXJzZV9jb2RlIiwibmFtZSIsImFzc2lnbm1lbnRfbmFtZSIsImNvZGUiLCJzZW1lc3RlciIsInN0dWRlbnRDb3VudCIsImhpZ2hSaXNrQ291bnQiLCJhdmVyYWdlR3JhZGUiLCJhc3NpZ25tZW50cyIsIm1hcCIsImFzc2lnbm1lbnQiLCJzdWJtaXNzaW9ucyIsIkpTT04iLCJwYXJzZSIsImNvbnNvbGUiLCJzdHVkZW50UmVzdWx0cyIsInN1YiIsImRldGVjdGlvblJlc3VsdCIsInN1Ym1pc3Npb25fZGV0ZWN0aW9uX3Jlc3VsdCIsImFpX3Byb2JhYmlsaXR5Iiwic3R1ZGVudF9lbWFpbCIsInN0dWRlbnRfbmFtZSIsInJlcXVpcmVzX3ZlcmlmaWNhdGlvbiIsInZlcmlmaWNhdGlvbl9xdWVzdGlvbnMiLCJjYW52YXNfdXJsIiwicGxhZ2lhcmlzbVN0YXR1cyIsInN0dWRlbnRJZCIsInN0dWRlbnROYW1lIiwic3R1ZGVudEVtYWlsIiwic2NvcmUiLCJzdWJtaXNzaW9uRGF0ZSIsInN1Ym1pc3Npb25fdGltZSIsInNpbWlsYXJpdHlTY29yZSIsIk1hdGgiLCJyb3VuZCIsInJlcXVpcmVzVmVyaWZpY2F0aW9uIiwidmVyaWZpY2F0aW9uUXVlc3Rpb25zIiwiY2FudmFzVXJsIiwidG9TdHJpbmciLCJ0aXRsZSIsInR5cGUiLCJhc3NpZ25tZW50X3R5cGUiLCJkdWVEYXRlIiwiZHVlX2RhdGUiLCJ0b3RhbFBvaW50cyIsInN0dWRlbnRzIiwidW5pcXVlU3R1ZGVudHMiLCJTZXQiLCJmb3JFYWNoIiwicmVzdWx0IiwiYWRkIiwic2l6ZSIsIkFycmF5IiwiZnJvbSIsImVtYWlsIiwiZmxhdE1hcCIsImEiLCJmaW5kIiwiciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/courses/[school]/[course].ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fcourses%2F%5Bschool%5D%2F%5Bcourse%5D&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Fcourses%2F%5Bschool%5D%2F%5Bcourse%5D.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();